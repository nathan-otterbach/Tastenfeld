{"id":"736a4d50-5b0c-bbd7-0c0f-daedad53","type":"InsertNode","followElement":{"id":"47b3965d-7bd8-b2f2-e291-a73b1e27","type":"TaskNode","text":"const uint8_t keymap[4][3] = { {1, 2, 3}, {4, 5, 6}, {7, 8, 9}, {0xA, 0, 0xB} };","followElement":{"id":"0aa2227a-d0d8-dd45-f51f-5904315c","type":"InsertNode","followElement":{"id":"609bd60f-f930-6428-a215-842ecb98","type":"FunctionNode","text":"display_value","parameters":[{"pos":-3,"parName":"uint8_t value"}],"followElement":{"id":"b3d7ed76-bd93-1ac0-57bb-93cc7cb7","type":"InsertNode","followElement":{"id":"3b6c5d8f-cada-fc98-fbed-834a9fe7","type":"FunctionNode","text":"scan_keypad","parameters":[{"pos":"6","parName":"void"}],"followElement":{"id":"bc083410-6a85-68c2-bb60-a1ff1f10","type":"InsertNode","followElement":{"id":"478dc918-0344-de2f-aa10-d2adadca","type":"FunctionNode","text":"main","parameters":[{"pos":"0","parName":"void"}],"followElement":{"id":"7feff144-dd12-90bb-4cb8-d6223ac4","type":"InsertNode","followElement":null},"child":{"id":"cba6a839-95cd-6c43-c463-422dd704","type":"InsertNode","followElement":{"id":"4c3f6dba-ab84-18b6-ec31-45c9d672","type":"TaskNode","text":"DDRB = 0xFF; ","followElement":{"id":"b5397b75-82a6-916b-c2a2-e57a14ff","type":"InsertNode","followElement":{"id":"1d4cd06d-fd16-d42c-f909-eed8b50c","type":"TaskNode","text":"\tDDRC = 0xFF;","followElement":{"id":"244666b5-fc3b-403c-2ae3-29392619","type":"InsertNode","followElement":{"id":"a02886c7-c57a-5751-7fc6-f9035d82","type":"TaskNode","text":"\tDDRD = 0x00;","followElement":{"id":"3138b9d4-201b-0768-f7c3-10adf5c2","type":"InsertNode","followElement":{"id":"6e50eb95-0d75-a773-53a9-51a9392f","type":"TaskNode","text":"\tPORTD = 0xFF;","followElement":{"id":"0ea29e4d-be7a-79bf-31c7-5b925193","type":"InsertNode","followElement":{"id":"796f47f2-35c4-b325-ad3c-e8f8be19","type":"TaskNode","text":"\tuint8_t key = 0xFF;","followElement":{"id":"8f2642a0-3445-22a5-cbaa-2760183b","type":"InsertNode","followElement":{"id":"5d934278-9abd-23c6-9ee6-b447fec4","type":"TaskNode","text":"\tuint8_t last_key = 0xFF;","followElement":{"id":"51656784-632a-2c2f-f82d-7f01766e","type":"InsertNode","followElement":{"id":"e5ac119c-0614-d273-fc86-e3d67787","type":"TaskNode","text":"key = scan_keypad();","followElement":{"id":"df55c996-4189-d44d-3f3e-f7a1a535","type":"InsertNode","followElement":{"id":"094e9637-0360-7032-1ff6-082023ee","type":"CountLoopNode","text":"while (1)","followElement":{"id":"0f01b138-4ec5-9c17-ec82-7ddf6051","type":"InsertNode","followElement":{"id":"f25be97b-723b-7e90-bf42-b954f30d","type":"TaskNode","text":"\treturn 0;","followElement":{"id":"76097f7d-12b8-adfd-a133-eecdfb89","type":"InsertNode","followElement":null}}},"child":{"id":"1bd5ccdd-76e3-c295-6da7-a001b119","type":"InsertNode","followElement":{"id":"0fcfa8e8-8b0f-e681-cdc5-d1240a4f","type":"TaskNode","text":"\t\tkey = scan_keypad();","followElement":{"id":"ed2f717d-39f9-0636-ca95-9f899a54","type":"InsertNode","followElement":{"id":"7b1fd0a7-25ec-5f4c-3b0d-be3046c9","type":"BranchNode","text":"\t\tif (key != 0xff && key != last_key)","followElement":{"id":"eefb145e-2279-2d2f-4d12-fccf341a","type":"InsertNode","followElement":null},"trueChild":{"id":"9fa74974-a38b-4f14-2331-a349a611","type":"InsertNode","followElement":{"id":"eeff4ad0-070c-6521-2ed4-967572ee","type":"TaskNode","text":"\t\t\tdisplay_value(key);","followElement":{"id":"02412721-6e2b-65f1-61b4-ae7877f1","type":"InsertNode","followElement":{"id":"f2b45cdf-9acb-191a-07ea-02ac4720","type":"TaskNode","text":"\t\t\tlast_key = key;","followElement":{"id":"d5d056b5-60ee-4179-c634-9e11f417","type":"InsertNode","followElement":{"id":"622f8c02-ee42-2d64-2c2f-6a33fde8","type":"TaskNode","text":"\t\t\t_delay_ms(100);","followElement":{"id":"05577cc6-d637-1701-2425-82f7b275","type":"InsertNode","followElement":{"id":"4e3d1dc6-c5c0-4edd-ea38-3b992ed9","type":"TaskNode","text":"\t\t\tlast_key = 0xFF;","followElement":{"id":"496c4d2d-3771-318c-93fc-98a3b6d8","type":"InsertNode","followElement":null}}}}}}}}},"falseChild":{"id":"f043180e-e621-3bb1-dac4-e0bbe569","type":"InsertNode","followElement":{"type":"Placeholder"}}}}}}}}}}}}}}}}}}}}}}}},"child":{"id":"5d8f4749-535d-ace8-cc33-c2143a19","type":"InsertNode","followElement":{"id":"d355e2ed-afbf-447d-4431-e39cd51b","type":"CountLoopNode","text":"\tfor (uint8_t row = 0; row < 4; row++)","followElement":{"id":"29a4920e-f66e-e19a-c786-9239c2af","type":"InsertNode","followElement":null},"child":{"id":"915ce92a-caa9-40dd-5914-50142341","type":"InsertNode","followElement":{"id":"de44a721-57d8-6ea8-81c2-a50908b5","type":"TaskNode","text":"\t\tPORTB = 0x0F;","followElement":{"id":"d85546f5-96bf-1c34-aee2-f73683da","type":"InsertNode","followElement":{"id":"af9ff53f-c3b0-f241-fc3e-460cb259","type":"TaskNode","text":"\t\tPORTB &= ~(1 << row);","followElement":{"id":"3b56299f-ce1e-0b01-51f6-17a4f649","type":"InsertNode","followElement":{"id":"e678b8ae-e693-8179-f1a8-b96f303e","type":"TaskNode","text":"\t\t_delay_us(5);","followElement":{"id":"c531e769-bc56-0a52-1803-2b0e03df","type":"InsertNode","followElement":{"id":"27ba50a0-4e32-4f8c-255d-f7b6a7e9","type":"TaskNode","text":"\t\tuint8_t cols = PIND & 0x1C;","followElement":{"id":"9a5c482d-dd43-b77e-c481-181fb308","type":"InsertNode","followElement":{"id":"23297fcc-901b-b8b0-d35e-60d15479","type":"CountLoopNode","text":"\t\tfor (uint8_t col = 0; col < 3; col++)","followElement":{"id":"ce255155-0b03-0ac6-c4fe-94ebd5dd","type":"InsertNode","followElement":null},"child":{"id":"e7c723e4-f22b-ef11-5263-a63803fb","type":"InsertNode","followElement":{"id":"acae2dad-8401-1cd0-4fff-efec1a65","type":"TaskNode","text":"\t\t\tuint8_t col_pin = col + 2;","followElement":{"id":"536912dd-ae27-0d21-4a5c-644cb66b","type":"InsertNode","followElement":{"id":"83e8a618-1988-1ac2-8527-8eb010cf","type":"BranchNode","text":"\t\t\tif (!(cols & (1 << col_pin)))","followElement":{"id":"746797f2-b84c-c7d7-eb84-dc08b85c","type":"InsertNode","followElement":null},"trueChild":{"id":"7f47fa38-ee0e-f3f8-d7af-5ac3f296","type":"InsertNode","followElement":{"id":"24d1f654-b606-3bcb-ecf9-2639b901","type":"TaskNode","text":"\t\t\t\t_delay_ms(10);","followElement":{"id":"b8f95023-763a-2e9c-da9e-74007881","type":"InsertNode","followElement":{"id":"d067320a-b2b8-b80b-5466-791f9852","type":"BranchNode","text":"\t\t\t\tif (!(PIND & (1 << col_pin)))","followElement":{"id":"13f59a78-322f-8a20-b976-5ce52c7a","type":"InsertNode","followElement":null},"trueChild":{"id":"c4d73451-83e4-239f-e745-162776a7","type":"InsertNode","followElement":{"id":"21c101a1-1aa6-2eaf-12de-ecc5d233","type":"CountLoopNode","text":"\t\t\t\t\twhile (!(PIND & (1 << col_pin)))","followElement":{"id":"23798f2c-2ed5-b5db-e407-500be906","type":"InsertNode","followElement":{"id":"d1de1af3-374b-7e09-ab85-71fa304e","type":"TaskNode","text":"\t\t\t\t\treturn keymap[row][col];","followElement":{"id":"7889ed8f-622b-2d00-cb48-0a772fb2","type":"InsertNode","followElement":null}}},"child":{"id":"9e5bfa1c-007d-fd31-b8b4-debf0391","type":"InsertNode","followElement":{"id":"1b85e06f-a623-6d7f-5a6f-998a7f0a","type":"TaskNode","text":"\t\t\t\t\t\t_delay_ms(10);","followElement":{"id":"fcd55f34-d05f-978f-d17e-b3c3a167","type":"InsertNode","followElement":null}}}}},"falseChild":{"id":"1acf5bb8-876c-9e05-e068-576543a9","type":"InsertNode","followElement":{"type":"Placeholder"}}}}}},"falseChild":{"id":"9a49b854-5059-b07b-e1fd-febdbfbf","type":"InsertNode","followElement":{"type":"Placeholder"}}}}}}}}}}}}}}}}}}}},"child":{"id":"6f3f0d22-2af5-6741-9ad3-d937b9bc","type":"InsertNode","followElement":{"id":"78ad1a6d-ee6f-696b-3e3d-c57f006e","type":"TaskNode","text":"PORTC = (PORTC & 0xF0) | (value & 0x0F);","followElement":{"id":"7c7c1842-28fc-6984-f611-e2a2e335","type":"InsertNode","followElement":null}}}}}}}